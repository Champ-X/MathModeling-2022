# 整数规划

## 分支定界法

> 用分枝定界法求解整数规划（最大化）问题的步骤为：开始，将要求解的整数规划问题称为问题A，将与它相应的线性规划问题称为问题B。
>
> （i）解问题B可能得到以下情况之一：
>
> （a）B没有可行解，这时A也没有可行解，则停止。
> （b）B有最优解，并符合问题A的整数条件，B的最优解即为A的最优解，则停止。
> （c）B有最优解，但不符合问题A的整数条件，记它的目标函数值为z~max~。
>
> （ii）用观察法找问题A的一个整数可行解，一般可取x~j~=0,j=1,...,n，试探，求得其目标函数值，并记作z~min~。以z^*^表示问题A的最优目标函数值；这时有z~min~≤z^*^≤z~max~。
>
> 进行迭代：
>
> 第一步：
> 分枝：在B的最优解中任选一个不符合整数条件的变量x~j~，其值为b~j~，以[b~j~]表示小于b~j~的最大整数。构造两个约束条件x~j~≤[b~j~]和x~j~≥[b~j~]+1将这两个约束条件，分别加入问题B，求两个后继规划问题B~1~和B~2~。不考虑整数条件求解这两个后继问题。
> 定界：以每个后继问题为一分枝标明求解的结果，与其它问题的解的结果中，找出最优目标函数值最大者作为新的上界z~max~。从已符合整数条件的各分支中，找出目标函数值为最大者作为新的下界z~min~，若无作用z~min~不变。
>
> 第二步：
> 比较与剪枝：各分枝的最优目标函数中若有小于z~min~者，则剪掉这枝，即以后不再考虑了。若大于z~max~，且不符合整数条件，则重复第一步骤。一直到最后得到z^*^=z~min~为止。得最优整数解x~j~^*^，j=1,...,n。

## 0-1型整数规划

见指派问题

## 非线性整数规划

<img src="problems\非线性整数规划.png" alt="image-20220729165442675" style="zoom:67%;" />

```
model:

sets: 
row/1..4/:b; 
col/1..5/:c1,c2,x; 
link(row,col):a; 
endsets
 
data: 
c1=1,1,3,4,2; 
c2=-8,-2,-3,-1,-2; 
a=1 1 1 1 1   
  1 2 2 1 6   
  2 1 6 0 0 
  0 0 1 1 5; 
b=400,800,200,200; 
enddata

max=@sum(col:c1*x^2+c2*x); 
@for(row(i):@sum(col(j):a(i,j)*x(j))<b(i)); 
@for(col:@gin(x));
@for(col:@bnd(0,x,99));
end 
```

## 生产与销售计划问题

<img src="problems\生产与销售计划问题.png" alt="image-20220729171056230" style="zoom:67%;" />

```
model: 
sets:   
    var1/1..4/:y; !这里y(1)=x11,y(2)=x21,y(3)=x12,y(4)=x22;     
    var2/1..3/:x,z,c; 
endsets 
max=4.8*(y(1)+y(2))+5.6*(y(3)+y(4))-@sum(var2:c*x); 
y(1)+y(3)<@sum(var2:x)+500; 
y(2)+y(4)<1000; 
0.5*(y(1)-y(2))>0; 
0.4*y(3)-0.6*y(4)>0;
@for(var1(i)|i #lt# 3:500*z(i+1)<x(i);x(i)<500*z(i)); 
x(3)<500*z(3); 
@for(var2:@bin(z)); 
@for(var2:@bnd(0,x,500)); 
data: 
c=10 8 6; 
enddata 
end
```

